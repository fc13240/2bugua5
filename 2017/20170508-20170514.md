# 5月8号 ~ 14号：这周不太好过哦


## 5月9号

前晚上线邀请好友活动，上到凌晨3点，结果一大早线上出事故，不能提现充值……

于是需要把代码从master里，切一个8号之前的commit出来，由于之前合并上线分支，都是合并到master，
没有打tag或者切单独的release分支，现在要找上一次的上线代码，真是要人老命了。

找到上周五master分支上最后一个commit，从那个commit切出分支后，发现里面已经包含了8号的需求代码……
因为他们代码commit时间是在5号之前，昨天又把代码都合并到了master分支，结果，直接从上周五的commit切
分支，已经不行了！！！

## 5月10号

昨天线上刚出那个大的bug，今天下午又被人刷接口了……由于node里，一个接口可能会请求N个后端服务，导致
node里大量的请求后端服务超时，但是看后端服务监控，在服务恢复之后，已经是正常水平，真搞不懂为什么这
时候node里，还会一直http请求后端服务超时！！！

等最近QA搞出来压测工具，一定要把这个坑给找出来，已经被坑了两次了，妹的。

本来说和二货讨论下答题活动的后端服务架构的，也由于上面突发的线上异常，又延期了……明早怎么给排期呢，
是个问题。


## 5月11号

## 5月12号

继续调研答题活动的后端实现，主要的难点在于 **并发** 上。多个用户同一时间来抢奖品，同一个用户同一时间
发起N个请求，当然不能容忍一个用户抢到多个奖品发生。

没做过后端，一上来就整这些，确实感觉有点没头绪，不清楚后端针对这种场景的玩法，最佳实践是什么。

看了几天的 **秒杀系统设计** ，大概都是讲 **逐层限流**、 **乐观锁**、 **悲观锁**。

但是这个答题活动，和秒杀还有点区别，用户可以每天走N道题，每天累计答对C道题后，如果当天的奖品还有，则给
该用户发一个；用户每次答题，都会更新他当天已经答过的题目和当天累计得分、当天排名、总共累计得分、总共
累计排名，这些数据都要实时的显示给用户
